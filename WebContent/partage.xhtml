<!DOCTYPE html>
<html lang="fr"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Partager son album</title>
    </h:head>
    <h:body>
    <h:form >
		<h:commandButton action="#{rechercheController.rech()}" value="Rechercher des photos">
			<f:param name="idAlbum" value="#{partageController.album.id}" />
		</h:commandButton>	
		<h:commandButton action="#{albumController.ajout()}" value="Ajouter un album">
			<f:param name="idAlbum" value="#{partageController.album.id}" />
		</h:commandButton>	
		<h:commandButton action="#{albumController.afficherAlbum}" value="Retour a l album">
			<f:param name="idAlbum" value="#{partageController.album.id}" />
        </h:commandButton>
        <h:commandButton action="#{albumController.listAlbum}" value="Voire tous les albums">
        	<f:param name="idAlbum" value="#{partageController.album.id}" />
        </h:commandButton>
		<h:commandButton action="#{appUserSession.logout()}" value="Me dÃ©connecter">
			<f:param name="idAlbum" value="#{partageController.album.id}" />
		</h:commandButton>	
	</h:form>	
    <h3>Partager l'abum</h3>
    Partager l'album <h:outputText value="#{partageController.album.title}"></h:outputText>   avec les utilisateurs : 
    <br/>
	<c:forEach var="entry" items="#{partageController.selectedUsers.entrySet().toArray()}" >
	
		<h:outputText value="#{entry.key.firstname}"/> #{entry.key.lastname} 
		<h:form>
			<h:commandButton action="#{partageController.modifierPartage()}" value="#{entry.value}">
				<f:param name="idAlbum" value="#{partageController.album.id}" />
				<f:param name="idUser" value="#{entry.key.id}" />
				<f:param name="action_partage" value="#{entry.value}" />
			</h:commandButton>
		</h:form>
	</c:forEach>
    	
    </h:body>
</html>