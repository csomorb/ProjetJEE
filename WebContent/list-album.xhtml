<!DOCTYPE html>
<html lang="fr"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

<f:view>
<h:body>
	<ui:include src="/WEB-INF/menu.xhtml" />
	<h1>AlbumList</h1>

<h:form >

<h:dataTable value="#{albumController.listAlbumOwnedByCurrentUser}" var="alb" >
   <h:column>    				
     <f:facet name="header">Titre</f:facet>    				
     <h:outputText value="#{alb.title}"/> 
   </h:column>
   <h:column>
      <f:facet name="header">Description</f:facet>
      <h:outputText value="#{alb.description}"/> 
   </h:column>
   <h:column>
   	  <f:facet name="header">Lien de l'album</f:facet>	  
     <h:commandButton action="#{albumController.afficherAlbum}" value="Afficher button">
		<f:param name="idAlbum" value="#{alb.id}" />
	</h:commandButton>
	<h:commandLink action="#{albumController.afficherAlbum}" value="Afficher lien">
		<f:param name="idAlbum" value="#{alb.id}" />
	</h:commandLink>
	
	
   	</h:column>  
   
   
   <!-- 
   <h:column>
      <h:commandLink action="#{appUserController.delete(user.id)}" value="delete"/>
   </h:column>
   -->
</h:dataTable>

<p:repeat value="#{albumController.listAlbumOwnedByCurrentUser}" var="alb">
        <h:panelGrid columns="3" style="width:100%" columnClasses="details,commande,partage">
            <p:outputPanel>
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputText value="Titre:" />
                    <h:outputText value="#{alb.title}" style="font-weight: bold"/>
 
                    <h:outputText value="description:" />
                    <h:outputText value="#{alb.description}" style="font-weight: bold"/>
                </h:panelGrid>
            </p:outputPanel>
            
            <p:outputPanel>
                <h:panelGrid columns="1" cellpadding="5">
                	<h:commandButton action="#{albumController.afficherAlbum}" value="Afficher button">
						<f:param name="idAlbum" value="#{alb.id}" />
					</h:commandButton>
                </h:panelGrid>
            </p:outputPanel>
        </h:panelGrid>
        <hr />
    </p:repeat>


</h:form>	
<h:form >
<h:commandButton action="#{appUserSession.logout()}" value="Me dÃ©connecter"/>
</h:form>
<h:link value="Ajouter un album" outcome="add-album" />
</h:body>
</f:view>
</html>